<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta name="generator" content="pandoc">
      
      
      <title>PHYS 4430</title>
         </head>
   <body>
            <div>
         <style>
            .eqnos { display: inline-block; position: relative; width: 100%; }
            .eqnos br { display: none; }
            .eqnos-number { position: absolute; right: 0em; top: 50%; line-height: 0; }
         </style>
         <h1 class="title">Gaussian Beams - Week 4</h1>
                  <h1 class="title">Contents</h1>
        <nav id="TOC">
            <ul>
            <li><a href="#where-we-are-in-the-sequence"><span
            class="toc-section-number">1</span> Where We Are in the
            Sequence</a></li>
            <li><a href="#overview"><span
            class="toc-section-number">2</span> Overview</a></li>
            <li><a href="#learning-goals"><span
            class="toc-section-number">3</span> Learning Goals</a></li>
            <li><a href="#overview-of-your-work"><span
            class="toc-section-number">4</span> Overview of Your
            Work</a></li>
            <li><a href="#prelab"><span
            class="toc-section-number">5</span> Prelab</a>
            <ul>
            <li><a
            href="#prediction-exercise-1-beam-radius-vs.-position"><span
            class="toc-section-number">5.1</span> Prediction Exercise 1:
            Beam Radius vs. Position</a></li>
            <li><a href="#prediction-exercise-2-lens-effects"><span
            class="toc-section-number">5.2</span> Prediction Exercise 2:
            Lens Effects</a></li>
            <li><a
            href="#prediction-exercise-3-uncertainty-budget"><span
            class="toc-section-number">5.3</span> Prediction Exercise 3:
            Uncertainty Budget</a></li>
            <li><a href="#connecting-your-previous-work"><span
            class="toc-section-number">5.4</span> Connecting Your
            Previous Work</a></li>
            </ul></li>
            <li><a href="#verify-your-setup"><span
            class="toc-section-number">6</span> Verify Your Setup</a>
            <ul>
            <li><a href="#validate-your-gain-setting"><span
            class="toc-section-number">6.1</span> Validate Your Gain
            Setting</a></li>
            </ul></li>
            <li><a href="#automation-of-the-measurement"><span
            class="toc-section-number">7</span> Automation of the
            Measurement</a>
            <ul>
            <li><a href="#running-the-beam-profiler"><span
            class="toc-section-number">7.1</span> Running the Beam
            Profiler</a>
            <ul>
            <li><a href="#connection-to-your-week-3-code"><span
            class="toc-section-number">7.1.1</span> Connection to Your
            Week 3 Code</a></li>
            <li><a href="#before-you-run-guided-code-reading"><span
            class="toc-section-number">7.1.2</span> Before You Run:
            Guided Code Reading</a></li>
            <li><a href="#basic-usage"><span
            class="toc-section-number">7.1.3</span> Basic Usage</a></li>
            <li><a href="#choosing-parameters"><span
            class="toc-section-number">7.1.4</span> Choosing
            Parameters</a></li>
            <li><a href="#output-files"><span
            class="toc-section-number">7.1.5</span> Output
            Files</a></li>
            <li><a href="#validating-the-automation"><span
            class="toc-section-number">7.1.6</span> Validating the
            Automation</a></li>
            </ul></li>
            <li><a href="#customizing-the-script-optional"><span
            class="toc-section-number">7.2</span> Customizing the Script
            (Optional)</a>
            <ul>
            <li><a href="#changing-the-daq-channel"><span
            class="toc-section-number">7.2.1</span> Changing the DAQ
            Channel</a></li>
            <li><a href="#adding-averaging"><span
            class="toc-section-number">7.2.2</span> Adding
            Averaging</a></li>
            </ul></li>
            </ul></li>
            <li><a href="#the-experiment"><span
            class="toc-section-number">8</span> The Experiment</a>
            <ul>
            <li><a
            href="#measuring-the-beam-profile-without-any-lenses"><span
            class="toc-section-number">8.1</span> Measuring the Beam
            Profile Without Any Lenses</a>
            <ul>
            <li><a href="#tips-for-good-measurements"><span
            class="toc-section-number">8.1.1</span> Tips for Good
            Measurements</a></li>
            <li><a href="#data-quality-assessment"><span
            class="toc-section-number">8.1.2</span> Data Quality
            Assessment</a></li>
            </ul></li>
            <li><a href="#how-does-a-lens-change-a-gaussian-beam"><span
            class="toc-section-number">8.2</span> How Does a Lens Change
            a Gaussian Beam?</a></li>
            <li><a
            href="#quantitatively-modeling-the-effect-of-a-lens"><span
            class="toc-section-number">8.3</span> Quantitatively
            Modeling the Effect of a Lens</a></li>
            <li><a href="#peer-discussion-comparing-results"><span
            class="toc-section-number">8.4</span> Peer Discussion:
            Comparing Results</a></li>
            <li><a
            href="#advanced-investigation-minimum-spot-size"><span
            class="toc-section-number">8.5</span> Advanced
            Investigation: Minimum Spot Size</a></li>
            </ul></li>
            <li><a href="#appendix-beam-profiler-code-reference"><span
            class="toc-section-number">9</span> Appendix: Beam Profiler
            Code Reference</a>
            <ul>
            <li><a href="#the-beamprofiler-class"><span
            class="toc-section-number">9.1</span> The
            <code>BeamProfiler</code> Class</a></li>
            <li><a href="#troubleshooting"><span
            class="toc-section-number">9.2</span> Troubleshooting</a>
            <ul>
            <li><a href="#device-not-found-error"><span
            class="toc-section-number">9.2.1</span> “Device not found”
            Error</a></li>
            <li><a href="#motor-doesnt-move"><span
            class="toc-section-number">9.2.2</span> Motor Doesn’t
            Move</a></li>
            <li><a href="#voltage-reads-zero"><span
            class="toc-section-number">9.2.3</span> Voltage Reads
            Zero</a></li>
            <li><a href="#noisy-data"><span
            class="toc-section-number">9.2.4</span> Noisy Data</a></li>
            </ul></li>
            </ul></li>
            <li><a href="#deliverables-and-assessment"><span
            class="toc-section-number">10</span> Deliverables and
            Assessment</a>
            <ul>
            <li><a href="#setup-validation"><span
            class="toc-section-number">10.1</span> Setup
            Validation</a></li>
            <li><a href="#beam-profile-without-lenses"><span
            class="toc-section-number">10.2</span> Beam Profile Without
            Lenses</a></li>
            <li><a href="#lens-investigation"><span
            class="toc-section-number">10.3</span> Lens
            Investigation</a></li>
            <li><a href="#key-results-summary"><span
            class="toc-section-number">10.4</span> Key Results
            Summary</a></li>
            <li><a href="#reflection-questions"><span
            class="toc-section-number">10.5</span> Reflection
            Questions</a></li>
            </ul></li>
            </ul>
        </nav>
        <hr/>
         <h1 data-number="1" id="where-we-are-in-the-sequence"><span
         class="header-section-number">1</span> Where We Are in the
         Sequence</h1>
         <p><strong>Week 4 of 4: Automated Measurement and Model
         Testing</strong></p>
         <p>This is the culmination of the Gaussian Beams sequence.
         You’ve built the skills and made the decisions necessary for
         today’s work: optical alignment (Week 1), photodetector
         calibration (Week 1), noise characterization and gain selection
         (Week 2), Gaussian beam theory (Week 3), and motor control
         (Week 3). Now you’ll put it all together to test the Gaussian
         beam model quantitatively.</p>
         <p><strong>Previous weeks:</strong> Foundations → Noise
         characterization → Theory and motor setup</p>
         <p><strong>This week:</strong> Validate setup → Automated
         measurements → Test Gaussian beam model → Investigate lens
         effects</p>
         <h1 data-number="2" id="overview"><span
         class="header-section-number">2</span> Overview</h1>
         <p>In Week 1, we measured the profile of the laser and found it
         to be Gaussian to a good approximation. In Week 3, we derived
         the Gaussian beam model and learned how the profile changes as
         the beam propagates. This week, we will apply automation to
         more rapidly take data and test the model experimentally. Since
         you already set up and verified the motor controller in Week 3,
         we can focus on the physics.</p>
         <h1 data-number="3" id="learning-goals"><span
         class="header-section-number">3</span> Learning Goals</h1>
         <p>After completing this week’s lab, you will be able to:</p>
         <ol type="1">
         <li>Run automated beam profile measurements using Python to
         control the motor and DAQ.</li>
         <li>Validate that your automated measurement system produces
         results consistent with manual methods.</li>
         <li>Measure beam size <span class="math inline">\(w(z)\)</span>
         at multiple positions and fit to extract <span
         class="math inline">\(w_0\)</span> and <span
         class="math inline">\(z_w\)</span> with uncertainties.</li>
         <li>Test the Gaussian beam model by comparing measured <span
         class="math inline">\(w(z)\)</span> to theoretical
         predictions.</li>
         <li>Explain how a lens modifies a Gaussian beam and compare to
         geometric optics predictions.</li>
         <li>Evaluate whether the thin lens equation accurately predicts
         image location for Gaussian beams, and identify when
         diffraction corrections are needed.</li>
         <li>Identify sources of systematic error when predictions and
         measurements disagree.</li>
         </ol>
         <h1 data-number="4" id="overview-of-your-work"><span
         class="header-section-number">4</span> Overview of Your
         Work</h1>
         <p>This week brings together everything you’ve built: you’ll
         test the Gaussian beam model with automated measurements and
         investigate how lenses modify the beam.</p>
         <p><strong>The scientific question:</strong> Does the Gaussian
         beam model accurately predict how beam radius varies with
         position? Does the thin lens equation work for focused Gaussian
         beams?</p>
         <p><strong>Your approach:</strong></p>
         <ol type="1">
         <li><strong>Validate your setup</strong> — Confirm your Week 2
         noise predictions still hold, and verify automated measurements
         match manual methods</li>
         <li><strong>Test the propagation model</strong> — Measure <span
         class="math inline">\(w(z)\)</span> at multiple positions, fit
         to extract <span class="math inline">\(w_0\)</span> and <span
         class="math inline">\(z_w\)</span>, and compare to your prelab
         predictions</li>
         <li><strong>Investigate lens effects</strong> — Add a lens,
         measure how it modifies the beam, and test whether the thin
         lens equation predicts the new waist location</li>
         </ol>
         <p><strong>Key decisions you’ll make:</strong> When predictions
         and measurements disagree, you’ll need to identify whether the
         discrepancy is due to measurement uncertainty, systematic
         error, or limitations of the model.</p>
         <p><em>See the detailed deliverables checklist at the end of
         this guide.</em></p>
         <h1 data-number="5" id="prelab"><span
         class="header-section-number">5</span> Prelab</h1>
         <p>This week you’ll test the Gaussian beam model with automated
         measurements. Before collecting data, make quantitative
         predictions—this transforms the lab from “taking data” to
         “testing your understanding.”</p>
         <h2 data-number="5.1"
         id="prediction-exercise-1-beam-radius-vs.-position"><span
         class="header-section-number">5.1</span> Prediction Exercise 1:
         Beam Radius vs. Position</h2>
         <p><strong>Transfer your predictions from Week 3.</strong> In
         Week 3, you measured a beam profile, applied error propagation,
         and predicted beam radii at several positions. Copy those
         predictions here:</p>
         <table>
         <thead>
         <tr class="header">
         <th>Position <span class="math inline">\(z\)</span> (m)</th>
         <th>Predicted <span class="math inline">\(w(z)\)</span>
         (mm)</th>
         <th>Predicted uncertainty</th>
         </tr>
         </thead>
         <tbody>
         <tr class="odd">
         <td>0.5</td>
         <td>_______</td>
         <td>± _______</td>
         </tr>
         <tr class="even">
         <td>1.0</td>
         <td>_______</td>
         <td>± _______</td>
         </tr>
         <tr class="odd">
         <td>1.5</td>
         <td>_______</td>
         <td>± _______</td>
         </tr>
         <tr class="even">
         <td>2.0</td>
         <td>_______</td>
         <td>± _______</td>
         </tr>
         </tbody>
         </table>
         <p><em>If you did not complete the Week 3 prediction exercise,
         do so now using the Gaussian beam model:</em></p>
         <p><span
         class="math display">\[w(z)=w_0\sqrt{1+\left(\frac{\lambda
         z}{\pi w_0^2}\right)^2}\]</span></p>
         <p>Use your Week 3 beam size measurement and estimated <span
         class="math inline">\(w_0\)</span> to calculate predictions
         with propagated uncertainties.</p>
         <h2 data-number="5.2"
         id="prediction-exercise-2-lens-effects"><span
         class="header-section-number">5.2</span> Prediction Exercise 2:
         Lens Effects</h2>
         <p>Before adding a lens to your beam path, predict what will
         happen using the thin lens equation:</p>
         <p><span
         class="math display">\[\frac{1}{S_1}+\frac{1}{S_2}=\frac{1}{f}\]</span></p>
         <p>For a lens with focal length $f = $ _______ mm placed at
         distance $S_1 = $ _______ m from the beam waist:</p>
         <ol type="1">
         <li><strong>Predicted image position</strong> <span
         class="math inline">\(S_2\)</span> = _______ m (from lens)</li>
         <li><strong>Predicted new beam waist</strong> <span
         class="math inline">\(w_0&#39; \approx |S_2/S_1| \cdot
         w_0\)</span> = _______ μm</li>
         <li><strong>Propagate uncertainties</strong> in <span
         class="math inline">\(S_1\)</span> and <span
         class="math inline">\(f\)</span> to get an uncertainty in <span
         class="math inline">\(S_2\)</span>.</li>
         </ol>
         <p>Show your calculation. Use the <code>uncertainties</code>
         library to propagate errors (see the code template from
         Thursday’s lecture).</p>
         <p><strong>Assess the approximation:</strong> The thin lens
         equation is a ray optics result that ignores diffraction. It is
         most accurate when the Rayleigh range <span
         class="math inline">\(z_R = \pi w_0^2/\lambda\)</span> is much
         smaller than <span class="math inline">\(|S_1 -
         f|\)</span>.</p>
         <ol start="4" type="1">
         <li><strong>Calculate your Rayleigh range</strong> <span
         class="math inline">\(z_R\)</span> = _______ m (using your
         measured <span class="math inline">\(w_0\)</span> from Week
         3)</li>
         <li><strong>Compare:</strong> Is <span
         class="math inline">\(z_R \ll |S_1 - f|\)</span>? Based on
         this, do you expect your thin lens prediction to be accurate,
         or should you anticipate a discrepancy?</li>
         </ol>
         <h2 data-number="5.3"
         id="prediction-exercise-3-uncertainty-budget"><span
         class="header-section-number">5.3</span> Prediction Exercise 3:
         Uncertainty Budget</h2>
         <p>List the sources of uncertainty that will affect your <span
         class="math inline">\(w_0\)</span> and <span
         class="math inline">\(z_w\)</span> measurements:</p>
         <table>
         <thead>
         <tr class="header">
         <th>Source</th>
         <th>Estimated magnitude</th>
         <th>Random or Systematic?</th>
         </tr>
         </thead>
         <tbody>
         <tr class="odd">
         <td>Voltage noise (from Week 2)</td>
         <td>_______ mV</td>
         <td>Random</td>
         </tr>
         <tr class="even">
         <td>Position measurement</td>
         <td>_______ mm</td>
         <td>_______</td>
         </tr>
         <tr class="odd">
         <td>_______</td>
         <td>_______</td>
         <td>_______</td>
         </tr>
         <tr class="even">
         <td>_______</td>
         <td>_______</td>
         <td>_______</td>
         </tr>
         </tbody>
         </table>
         <p>Which source do you expect to dominate the uncertainty in
         <span class="math inline">\(w_0\)</span>? Justify your answer
         briefly.</p>
         <h2 data-number="5.4" id="connecting-your-previous-work"><span
         class="header-section-number">5.4</span> Connecting Your
         Previous Work</h2>
         <p>This lab brings together everything from the sequence:</p>
         <ul>
         <li><strong>Week 1:</strong> Optical alignment, photodetector
         calibration, knife-edge technique</li>
         <li><strong>Week 2:</strong> Noise characterization, gain
         selection, curve fitting</li>
         <li><strong>Week 3:</strong> Error propagation, Gaussian beam
         theory, motor control</li>
         </ul>
         <p>Your predictions above use results from all three previous
         weeks. If any predictions seem unreasonable, review the
         relevant material before lab.</p>
         <h1 data-number="6" id="verify-your-setup"><span
         class="header-section-number">6</span> Verify Your Setup</h1>
         <p>In Week 3, you set up and verified the motor controller. In
         Week 2, you learned to use the DAQ and characterized your
         photodetector’s noise. Before starting the experiments, confirm
         everything is still working:</p>
         <ol type="1">
         <li><input type="checkbox" disabled="" />
         DAQ can read voltages from the photodetector</li>
         <li><input type="checkbox" disabled="" />
         Python can connect to the motor controller (check your serial
         number: ____________)</li>
         <li><input type="checkbox" disabled="" />
         Motor moves when commanded</li>
         </ol>
         <p>If you encounter issues, refer back to the troubleshooting
         section in Week 3’s lab guide.</p>
         <h2 data-number="6.1" id="validate-your-gain-setting"><span
         class="header-section-number">6.1</span> Validate Your Gain
         Setting</h2>
         <p>Before your first automated scan, verify that your
         measurement system performs as expected. This closes the loop
         on your Week 2 noise characterization:</p>
         <ol type="1">
         <li><strong>Measure dark noise:</strong> With the beam fully
         blocked, acquire 100 samples and record the mean and RMS
         voltage.</li>
         <li><strong>Measure signal:</strong> With the beam fully
         exposed (knife-edge retracted), acquire 100 samples and record
         the mean and RMS voltage.</li>
         <li><strong>Calculate SNR:</strong> Signal-to-noise ratio =
         (signal mean − dark mean) / dark RMS</li>
         <li><strong>Compare to prediction:</strong> Does your measured
         SNR match what you predicted in Week 2 based on the DAQ noise
         floor (~5 mV RMS)?</li>
         <li><strong>Decide:</strong> If the SNR differs significantly
         from your prediction, identify the cause and decide whether to
         adjust your gain setting.</li>
         </ol>
         <table>
         <thead>
         <tr class="header">
         <th>Measurement</th>
         <th>Mean (V)</th>
         <th>RMS (mV)</th>
         </tr>
         </thead>
         <tbody>
         <tr class="odd">
         <td>Dark (blocked)</td>
         <td>_______</td>
         <td>_______</td>
         </tr>
         <tr class="even">
         <td>Signal (exposed)</td>
         <td>_______</td>
         <td>_______</td>
         </tr>
         </tbody>
         </table>
         <p><strong>Calculated SNR:</strong> _______ <strong>Week 2
         predicted SNR:</strong> _______ <strong>Your selected gain
         setting:</strong> _______ dB</p>
         <h1 data-number="7" id="automation-of-the-measurement"><span
         class="header-section-number">7</span> Automation of the
         Measurement</h1>
         <p>Before we begin this week’s lab, reflect on your experience
         from Week 1 (and perhaps refer to your lab notebook entry to
         help guide your memory).</p>
         <ol type="1">
         <li>In Week 1, how long did the total process of data taking
         through analysis take to make a measurement of the beam size
         <span class="math inline">\(w\)</span>?</li>
         <li>In this lab, you may have to take 10-20 beam profiles in
         order to measure <span class="math inline">\(w_0\)</span> and
         <span class="math inline">\(z_w\)</span>. How long would this
         take with your manual method?</li>
         <li>What are the most time-consuming portions of the process?
         Which parts benefit most from automation?</li>
         </ol>
         <h2 data-number="7.1" id="running-the-beam-profiler"><span
         class="header-section-number">7.1</span> Running the Beam
         Profiler</h2>
         <p>The automation script is available at: <a
         href="/PHYS-4430/resources/lab-guides/gaussian-laser-beams/python/04_beam_profiler.py"><code>04_beam_profiler.py</code></a></p>
         <h3 data-number="7.1.1"
         id="connection-to-your-week-3-code"><span
         class="header-section-number">7.1.1</span> Connection to Your
         Week 3 Code</h3>
         <p>In Week 3, you wrote code that combined motor positioning
         with DAQ reading. The beam profiler script does the same thing,
         with three production enhancements:</p>
         <ul>
         <li>It saves data to files as it runs (so you don’t lose data
         if something crashes)</li>
         <li>It shows a real-time plot (so you can see problems
         early)</li>
         <li>It handles errors gracefully (so one bad reading doesn’t
         stop the entire scan)</li>
         </ul>
         <p>The core loop—move, wait, read, record—is identical to what
         you wrote. Here’s a simplified view of the essential structure
         (the actual script adds real-time plotting and data management
         around these steps):</p>
         <div class="sourceCode" id="cb1"><pre
         class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> step_num <span class="kw">in</span> <span class="bu">range</span>(max_steps):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 1. Read current position</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    position <span class="op">=</span> <span class="va">self</span>.get_position()</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2. Read photodetector voltage</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    voltage <span class="op">=</span> <span class="va">self</span>.read_voltage()</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3. Save data point immediately</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    writer.writerow([position, voltage])</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 4. Move to next position</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.move_to(position <span class="op">+</span> step)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 5. Wait for vibrations to settle</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    time.sleep(wait_time_ms <span class="op">/</span> <span class="dv">1000</span>)</span></code></pre></div>
         <h3 data-number="7.1.2"
         id="before-you-run-guided-code-reading"><span
         class="header-section-number">7.1.2</span> Before You Run:
         Guided Code Reading</h3>
         <p>Before running the script, open
         <code>04_beam_profiler.py</code> in a text editor and find:</p>
         <ol type="1">
         <li>The line where the motor moves to a new position (hint:
         look in the <code>run_scan</code> method)</li>
         <li>The line where the photodetector voltage is read</li>
         <li>Where the wait time gets used</li>
         </ol>
         <p>This exercise takes about 5 minutes and will dramatically
         improve your ability to troubleshoot if something goes
         wrong.</p>
         <h3 data-number="7.1.3" id="basic-usage"><span
         class="header-section-number">7.1.3</span> Basic Usage</h3>
         <p>Navigate to the script directory and run:</p>
         <div class="sourceCode" id="cb2"><pre
         class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> 04_beam_profiler.py</span></code></pre></div>
         <p>The script will prompt you for:</p>
         <ol type="1">
         <li><strong>Motor serial number</strong>: Found on the KST101
         display (e.g., “26004813”)</li>
         <li><strong>Step size (mm)</strong>: How far to move between
         measurements (recommend 0.05 mm)</li>
         <li><strong>Wait time (ms)</strong>: Delay after each step
         (recommend 500 ms)</li>
         <li><strong>Direction</strong>: “forward” or “backward”</li>
         </ol>
         <h3 data-number="7.1.4" id="choosing-parameters"><span
         class="header-section-number">7.1.4</span> Choosing
         Parameters</h3>
         <p><strong>Step Size</strong>: Smaller step sizes give higher
         resolution but take longer: - 0.05 mm is a good starting point
         for most beams - Use smaller steps (0.02-0.03 mm) for tightly
         focused beams - You can use larger steps (0.1 mm) for initial
         alignment</p>
         <p><strong>Wait Time</strong>: This ensures measurements are
         taken after vibrations settle: - 500 ms is usually sufficient -
         Increase if you see noisy data</p>
         <h3 data-number="7.1.5" id="output-files"><span
         class="header-section-number">7.1.5</span> Output Files</h3>
         <p>The script automatically generates two files with
         timestamps:</p>
         <ol type="1">
         <li><strong>CSV data file</strong>:
         <code>beam_profile_YYYYMMDD_HHMMSS.csv</code>
         <ul>
         <li>Two columns: Position (mm), Voltage (V)</li>
         <li>Ready for analysis with your fitting code from Week 1</li>
         </ul></li>
         <li><strong>Plot image</strong>:
         <code>beam_profile_YYYYMMDD_HHMMSS.png</code>
         <ul>
         <li>Quick visualization of the measured profile</li>
         </ul></li>
         </ol>
         <h3 data-number="7.1.6" id="validating-the-automation"><span
         class="header-section-number">7.1.6</span> Validating the
         Automation</h3>
         <p><strong>Critical checkpoint:</strong> Before taking
         production data, validate that your automated system produces
         results consistent with your manual method.</p>
         <ol type="1">
         <li>Take one automated beam profile at the same position you
         measured in Week 1 (or Week 3).</li>
         <li>Fit the data using your analysis code and compare:</li>
         </ol>
         <table>
         <thead>
         <tr class="header">
         <th>Method</th>
         <th>Beam radius <span class="math inline">\(w\)</span></th>
         <th>Uncertainty</th>
         </tr>
         </thead>
         <tbody>
         <tr class="odd">
         <td>Week 1 (manual)</td>
         <td>_______ mm</td>
         <td>± _______ mm</td>
         </tr>
         <tr class="even">
         <td>Week 4 (automated)</td>
         <td>_______ mm</td>
         <td>± _______ mm</td>
         </tr>
         </tbody>
         </table>
         <ol start="3" type="1">
         <li><p><strong>If these agree within 2σ:</strong> Your system
         is validated. Proceed with data collection.</p></li>
         <li><p><strong>If these disagree by more than 2σ:</strong> Stop
         and troubleshoot before taking more data. Check:</p>
         <ul>
         <li>Motor position units (does Python position match KST101
         display?)</li>
         <li>Photodetector gain setting (same as Week 1?)</li>
         <li>Ambient light contamination</li>
         <li>Whether the knife-edge is at the same z-position</li>
         </ul></li>
         <li><p>How long does your new measurement method take? (2-3
         minutes per <span class="math inline">\(w\)</span> measurement
         is very good.)</p></li>
         </ol>
         <h2 data-number="7.2"
         id="customizing-the-script-optional"><span
         class="header-section-number">7.2</span> Customizing the Script
         (Optional)</h2>
         <p>If you need to modify the script behavior:</p>
         <h3 data-number="7.2.1" id="changing-the-daq-channel"><span
         class="header-section-number">7.2.1</span> Changing the DAQ
         Channel</h3>
         <p>If your photodetector is connected to a different channel
         (e.g., AI1):</p>
         <div class="sourceCode" id="cb3"><pre
         class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>profiler <span class="op">=</span> BeamProfiler(serial_number, daq_channel<span class="op">=</span><span class="st">&quot;ai1&quot;</span>)</span></code></pre></div>
         <h3 data-number="7.2.2" id="adding-averaging"><span
         class="header-section-number">7.2.2</span> Adding
         Averaging</h3>
         <p>For noisy signals, you can modify
         <code>read_voltage()</code> to average multiple samples:</p>
         <div class="sourceCode" id="cb4"><pre
         class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> read_voltage(<span class="va">self</span>, num_samples<span class="op">=</span><span class="dv">10</span>):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;Read averaged voltage from DAQ.&quot;&quot;&quot;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> nidaqmx.Task() <span class="im">as</span> task:</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>        task.ai_channels.add_ai_voltage_chan(</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>            <span class="ss">f&quot;</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>daq_device<span class="sc">}</span><span class="ss">/</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>daq_channel<span class="sc">}</span><span class="ss">&quot;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>        voltages <span class="op">=</span> task.read(number_of_samples_per_channel<span class="op">=</span>num_samples)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> np.mean(voltages)</span></code></pre></div>
         <h1 data-number="8" id="the-experiment"><span
         class="header-section-number">8</span> The Experiment</h1>
         <p>The Gaussian beam model of light is useful because it often
         describes the beam of light created by lasers. This section
         will test the validity of the model for our He-Ne laser beam.
         Also, the effect of a lens on a Gaussian beam will be tested,
         and the Gaussian beam model will be compared with predictions
         from the simpler ray theory. Lastly, the Gaussian beam theory
         can be used to describe the minimum possible focus size for a
         beam and a lens.</p>
         <h2 data-number="8.1"
         id="measuring-the-beam-profile-without-any-lenses"><span
         class="header-section-number">8.1</span> Measuring the Beam
         Profile Without Any Lenses</h2>
         <p>There is a straightforward reason that a He-Ne laser should
         produce a Gaussian beam. The laser light builds up between two
         mirrors, and the electromagnetic mode that best matches the
         shape of the mirrors is the Gaussian beam.</p>
         <ol type="1">
         <li><p>Considering the Gaussian beam equations from Week 3’s
         prelab (the electric field, beam radius <span
         class="math inline">\(w(z)\)</span>, radius of curvature <span
         class="math inline">\(R(z)\)</span>, and Gouy phase <span
         class="math inline">\(\zeta(z)\)</span>), which aspects of the
         Gaussian beam model can you test? Are there any parts of the
         model you cannot test?</p></li>
         <li><p>Measure the beam size <span
         class="math inline">\(w\)</span> at various distances from the
         laser.</p>
         <p><strong>Measurement strategy guidance:</strong></p>
         <ul>
         <li><strong>Number of positions:</strong> Take measurements at
         5-10 different <span class="math inline">\(z\)</span>
         positions. Fewer than 5 makes it difficult to constrain both
         <span class="math inline">\(w_0\)</span> and <span
         class="math inline">\(z_w\)</span> in your fit; more than 10
         offers diminishing returns.</li>
         <li><strong>Position spacing:</strong> Distribute your
         measurements across your available range. Include positions
         both near and far from the laser to capture the beam’s
         divergence.</li>
         <li><strong>Rayleigh range consideration:</strong> If you can
         estimate the Rayleigh range <span class="math inline">\(z_R =
         \pi w_0^2 / \lambda\)</span> from Week 3’s data, try to include
         positions within <span class="math inline">\(z_R\)</span> of
         the waist (where width changes slowly) AND well beyond <span
         class="math inline">\(z_R\)</span> (where width grows
         linearly). This helps distinguish <span
         class="math inline">\(w_0\)</span> from <span
         class="math inline">\(z_w\)</span> in your fit.</li>
         </ul>
         <p><strong>Consider carefully:</strong></p>
         <ul>
         <li>What distance should be varying: laser to razor, razor to
         photodetector, or laser to photodetector?</li>
         <li>Use meter sticks and other measurement tools available in
         the lab.</li>
         <li>Record the distance from the laser (or a fixed reference
         point) for each measurement.</li>
         </ul></li>
         <li><p>Fit the data to <span
         class="math inline">\(w(z)\)</span>, the predicted expression
         for a Gaussian beam: <span
         class="math display">\[w(z)=w_0\sqrt{1+\left(\frac{\lambda
         z}{\pi w_0^2}\right)^2}\]</span></p></li>
         <li><p>What is the value of the beam waist <span
         class="math inline">\(w_0\)</span> (including uncertainty)?
         Where does the beam waist <span
         class="math inline">\(z_w\)</span> occur relative to the
         laser?</p></li>
         </ol>
         <h3 data-number="8.1.1" id="tips-for-good-measurements"><span
         class="header-section-number">8.1.1</span> Tips for Good
         Measurements</h3>
         <ol type="1">
         <li><p><strong>Starting Position</strong>: Position the razor
         so the beam is fully unblocked. Use the manual jog controls on
         the KST101 to find a good starting point.</p></li>
         <li><p><strong>Scan Range</strong>: Make sure your scan covers
         the full transition from unblocked to fully blocked. Include
         some data before and after the transition.</p></li>
         <li><p><strong>Real-Time Monitoring</strong>: Watch the live
         plot as data comes in. You can press Ctrl+C to stop early if
         something looks wrong.</p></li>
         <li><p><strong>File Organization</strong>: Consider adding
         descriptive prefixes to filenames to help organize your data
         (e.g., “z=50cm_beam_profile_…”).</p></li>
         </ol>
         <h3 data-number="8.1.2" id="data-quality-assessment"><span
         class="header-section-number">8.1.2</span> Data Quality
         Assessment</h3>
         <p>After your first few beam profile measurements, assess
         whether your data quality matches your predictions from Weeks 2
         and 3:</p>
         <ol type="1">
         <li><p><strong>Measure actual noise</strong>: Examine the flat
         regions of your beam profile data (where the beam is fully
         blocked or fully unblocked). Calculate the RMS scatter of
         points in these regions.</p></li>
         <li><p><strong>Compare to predictions</strong>: How does your
         measured RMS compare to:</p>
         <ul>
         <li>Your Week 2 SNR predictions?</li>
         <li>Your Week 3 noise spectrum prediction for averaged
         samples?</li>
         </ul></li>
         <li><p><strong>Evaluate and adjust</strong>:</p>
         <ul>
         <li>If actual noise is <em>higher</em> than predicted: What
         could cause this? (Vibrations? Ambient light? Insufficient
         settling time?)</li>
         <li>If actual noise is <em>lower</em> than predicted: Good!
         Your predictions were conservative.</li>
         <li>If noise is significantly different, consider adjusting
         your measurement parameters (averaging, wait time) before
         taking more data.</li>
         </ul></li>
         </ol>
         <p>This closes the loop on your noise characterization work and
         validates your instrumentation decisions.</p>
         <h2 data-number="8.2"
         id="how-does-a-lens-change-a-gaussian-beam"><span
         class="header-section-number">8.2</span> How Does a Lens Change
         a Gaussian Beam?</h2>
         <p>Pick a non-compound lens (not the fancy camera lenses) with
         focal length in the range 100-200 mm and assemble it in a lens
         mount with a retaining ring (see Figure <a
         href="#fig:mount-assembly">1</a>). Recall that it’s very
         important that you <strong>do not handle optical
         components</strong> (lenses, mirrors, polarizers, wave plates,
         beam splitters, etc.) <strong>with your bare hands</strong>.
         The oils on your skin can damage the optics and degrade the
         light in your experiment. Always handle these components while
         using <strong>latex/nitrile gloves or finger cots</strong>.</p>
         <p>Design and carry out an experiment to quantitatively answer
         the questions below. Consider carefully where to put the lens.
         Your data for this section can be used in the next section.</p>
         <ol type="1">
         <li>Insert a lens (after the mirrors) into the beam path to
         change the divergence/convergence of the beam but keep its
         propagation direction the same.</li>
         <li>When this condition (the beam propagation direction is
         unchanged) is met, where does the beam intersect the lens?
         <em>Note: This is the preferred method of adding a lens to an
         optical setup.</em></li>
         <li>Does the beam retain a Gaussian profile after the
         lens?</li>
         <li>What is the new beam waist <span
         class="math inline">\(w_0\)</span> and where does it
         occur?</li>
         <li>What factors affect the beam profile after the lens?</li>
         <li>Does the measured <span class="math inline">\(w(z)\)</span>
         match the Gaussian beam prediction <span
         class="math inline">\(w(z)=w_0\sqrt{1+\left(\frac{\lambda
         z}{\pi w_0^2}\right)^2}\)</span>?</li>
         </ol>
         <div id="fig:mount-assembly" class="fignos">
         <figure>
         <img
         src="../resources/lab-guides/gaussian-laser-beams/mount-assembly.png"
         style="width:15cm"
         alt="Figure 1: Mounting assemblies for a mirror (left) and a lens (right)." />
         <figcaption aria-hidden="true"><span>Figure 1:</span> Mounting
         assemblies for a mirror (left) and a lens (right).</figcaption>
         </figure>
         </div>
         <h2 data-number="8.3"
         id="quantitatively-modeling-the-effect-of-a-lens"><span
         class="header-section-number">8.3</span> Quantitatively
         Modeling the Effect of a Lens</h2>
         <p>One of the simplest ways to model the effect of a lens is
         the thin lens equation, which is based on a ray model of light
         (see Figure <a href="#fig:ray-diagram">2</a>).</p>
         <p><span class="math display">\[
         \frac{1}{S_1}+\frac{1}{S_2}=\frac{1}{f}\]</span></p>
         <ol type="1">
         <li><p>Redraw Figure <a href="#fig:ray-diagram">2</a> to show
         how it would change when the light is modeled as a Gaussian
         beam, rather than rays. In particular, where should the beam
         waists occur? What determines the relative width of the beam
         waist?</p></li>
         <li><p>Experimentally test the accuracy of the thin lens
         equation for the imaging of Gaussian beams. Follow this
         quantitative procedure:</p>
         <ol type="1">
         <li><p><strong>Predict:</strong> Using the thin lens equation,
         calculate the predicted image position <span
         class="math inline">\(S_2\)</span> from your measured object
         distance <span class="math inline">\(S_1\)</span> and the lens
         focal length <span class="math inline">\(f\)</span>. Propagate
         the uncertainties in <span class="math inline">\(S_1\)</span>
         and <span class="math inline">\(f\)</span> to get an
         uncertainty in <span
         class="math inline">\(S_2\)</span>.</p></li>
         <li><p><strong>Measure:</strong> From your beam size data,
         determine the actual position of the beam waist (image
         location) after the lens. Include uncertainty from your
         fit.</p></li>
         <li><p><strong>Compare:</strong> Calculate the discrepancy
         between predicted and measured image positions. Is the
         discrepancy smaller than the combined uncertainty? If <span
         class="math inline">\(|S_{2,predicted} - S_{2,measured}| &lt;
         \sqrt{\sigma_{pred}^2 + \sigma_{meas}^2}\)</span>, the
         agreement is consistent with your uncertainties.</p></li>
         <li><p><strong>Interpret:</strong> If they disagree beyond
         uncertainties, this is not necessarily a mistake — the thin
         lens equation is a ray optics result that ignores diffraction.
         Proceed to question 3.</p></li>
         </ol></li>
         <li><p><strong>A better model:</strong> The thin lens equation
         assumes the beam waist acts like a point source, emitting
         spherical wavefronts. But a Gaussian beam’s wavefronts are
         <em>flat</em> at the waist and only gradually become spherical.
         The Rayleigh range <span class="math inline">\(z_R = \pi
         w_0^2/\lambda\)</span> characterizes this transition. When the
         lens is many Rayleigh ranges from the waist (<span
         class="math inline">\(z_R \ll |S_1 - f|\)</span>), the
         wavefronts at the lens are nearly spherical and the thin lens
         equation works. When <span class="math inline">\(z_R \gtrsim
         |S_1 - f|\)</span>, it doesn’t.</p>
         <p>A <em>modified</em> thin-lens equation accounts for this
         (Self, “Focusing of spherical Gaussian beams,” <em>Appl.
         Opt.</em> <strong>22</strong>, 658, 1983; see also <a
         href="https://www.thorlabs.com/modified-thin-lens-equation-for-laser-light?tabName=Insights">Thorlabs:
         Modified Thin-Lens Equation for Laser Light</a> for an
         accessible explanation):</p>
         <p><span class="math display">\[ \frac{1}{S_1 +
         \dfrac{z_R^2}{S_1 - f}}+\frac{1}{S_2}=\frac{1}{f}\]</span></p>
         <p>The conventional equation is recovered when <span
         class="math inline">\(z_R \ll |S_1 - f|\)</span>. Calculate the
         predicted <span class="math inline">\(S_2\)</span> using this
         modified equation. Does it better agree with your measured
         value? The corresponding magnification is <span
         class="math inline">\(m = f / \sqrt{(S_1 - f)^2 +
         z_R^2}\)</span>.</p></li>
         <li><p>Systematic errors: Under what conditions should the thin
         lens equation be most valid? Beyond the diffraction correction,
         what other effects could cause discrepancies? (Consider: thick
         lens effects, uncertainty in waist position, beam quality <span
         class="math inline">\(M^2 \neq 1\)</span>, lens
         aberrations.)</p></li>
         </ol>
         <div id="fig:ray-diagram" class="fignos">
         <figure>
         <img
         src="../resources/lab-guides/gaussian-laser-beams/ray-diagram.png"
         style="width:15cm"
         alt="Figure 2: Diagram showing the focusing of light by a thin lens in the ray approximation. The diagram identifies the quantities in the thin lens equation: image distance, object distance, and focal length." />
         <figcaption aria-hidden="true"><span>Figure 2:</span> Diagram
         showing the focusing of light by a thin lens in the ray
         approximation. The diagram identifies the quantities in the
         thin lens equation: image distance, object distance, and focal
         length.</figcaption>
         </figure>
         </div>
         <h2 data-number="8.4"
         id="peer-discussion-comparing-results"><span
         class="header-section-number">8.4</span> Peer Discussion:
         Comparing Results</h2>
         <p>If time permits, compare your thin lens test results with
         another group. This comparison helps identify systematic
         effects and builds confidence in your conclusions.</p>
         <ol type="1">
         <li><p><strong>Compare measured image positions.</strong>
         Record each group’s values:</p>
         <table>
         <colgroup>
         <col style="width: 8%" />
         <col style="width: 29%" />
         <col style="width: 22%" />
         <col style="width: 23%" />
         <col style="width: 16%" />
         </colgroup>
         <thead>
         <tr class="header">
         <th>Group</th>
         <th><span class="math inline">\(S_1\)</span> (object
         distance)</th>
         <th><span class="math inline">\(S_2\)</span> (measured)</th>
         <th><span class="math inline">\(S_2\)</span> (predicted)</th>
         <th>Discrepancy</th>
         </tr>
         </thead>
         <tbody>
         <tr class="odd">
         <td>Yours</td>
         <td>_______</td>
         <td>_______</td>
         <td>_______</td>
         <td>_______</td>
         </tr>
         <tr class="even">
         <td>Other</td>
         <td>_______</td>
         <td>_______</td>
         <td>_______</td>
         <td>_______</td>
         </tr>
         </tbody>
         </table></li>
         <li><p><strong>Investigate discrepancies:</strong> If results
         differ significantly, consider:</p>
         <ul>
         <li>Did you use different lenses or object distances?</li>
         <li>How did you each define “beam waist position”? (Peak
         intensity? Best fit location?)</li>
         <li>What systematic error sources might differ between
         setups?</li>
         </ul></li>
         <li><p><strong>Synthesize:</strong> What does the comparison
         tell you about the accuracy of the thin lens equation for
         Gaussian beams? If both groups found discrepancies in the same
         direction (e.g., both measured <span
         class="math inline">\(S_2\)</span> shorter than predicted),
         what might that indicate about the model?</p></li>
         <li><p><strong>Document briefly</strong> in your notebook:</p>
         <ul>
         <li>Whether results agreed within uncertainties</li>
         <li>Key insight from the comparison</li>
         </ul></li>
         </ol>
         <h2 data-number="8.5"
         id="advanced-investigation-minimum-spot-size"><span
         class="header-section-number">8.5</span> Advanced
         Investigation: Minimum Spot Size</h2>
         <p>If time permits, investigate the following:</p>
         <ol type="1">
         <li>What determines the minimum spot size you can achieve with
         a lens?</li>
         <li>How does this relate to the concept of the “diffraction
         limit”?</li>
         <li>Try using a lens with shorter focal length. Does it produce
         a smaller spot? What are the tradeoffs?</li>
         </ol>
         <h1 data-number="9"
         id="appendix-beam-profiler-code-reference"><span
         class="header-section-number">9</span> Appendix: Beam Profiler
         Code Reference</h1>
         <p>This appendix provides reference material for
         troubleshooting and extending the beam profiler script. The
         core measurement loop is explained in the main text (see
         “Connection to Your Week 3 Code” above).</p>
         <h2 data-number="9.1" id="the-beamprofiler-class"><span
         class="header-section-number">9.1</span> The
         <code>BeamProfiler</code> Class</h2>
         <div class="sourceCode" id="cb5"><pre
         class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> BeamProfiler:</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, serial_number, daq_device<span class="op">=</span><span class="st">&quot;Dev1&quot;</span>, daq_channel<span class="op">=</span><span class="st">&quot;ai0&quot;</span>):</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Initialize with motor serial number and DAQ settings.&quot;&quot;&quot;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="ex">connect</span>(<span class="va">self</span>):</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Connect to motor controller, configure velocity.&quot;&quot;&quot;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_position(<span class="va">self</span>):</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Read current position in mm.&quot;&quot;&quot;</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> move_to(<span class="va">self</span>, position_mm):</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Move to absolute position.&quot;&quot;&quot;</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> read_voltage(<span class="va">self</span>):</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Read single voltage from DAQ.&quot;&quot;&quot;</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> run_scan(<span class="va">self</span>, step_size_mm, wait_time_ms, direction, max_steps):</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Execute the automated scan with real-time plotting.&quot;&quot;&quot;</span></span></code></pre></div>
         <h2 data-number="9.2" id="troubleshooting"><span
         class="header-section-number">9.2</span> Troubleshooting</h2>
         <h3 data-number="9.2.1" id="device-not-found-error"><span
         class="header-section-number">9.2.1</span> “Device not found”
         Error</h3>
         <ul>
         <li>Check USB connection</li>
         <li>Verify serial number matches the display on the KST101</li>
         <li>Make sure no other software (APT User, Kinesis) is using
         the motor</li>
         </ul>
         <h3 data-number="9.2.2" id="motor-doesnt-move"><span
         class="header-section-number">9.2.2</span> Motor Doesn’t
         Move</h3>
         <ul>
         <li>Ensure power is connected to the KST101</li>
         <li>Check that the stage isn’t at a travel limit</li>
         <li>Verify the stage type is configured correctly in Kinesis
         (ZST225B)</li>
         </ul>
         <h3 data-number="9.2.3" id="voltage-reads-zero"><span
         class="header-section-number">9.2.3</span> Voltage Reads
         Zero</h3>
         <ul>
         <li>Check photodetector power</li>
         <li>Verify BNC cable connections to DAQ</li>
         <li>Make sure the beam actually hits the photodetector</li>
         </ul>
         <h3 data-number="9.2.4" id="noisy-data"><span
         class="header-section-number">9.2.4</span> Noisy Data</h3>
         <ul>
         <li>Increase wait time between steps</li>
         <li>Check for mechanical vibrations in your setup</li>
         <li>Shield the photodetector from ambient light</li>
         <li>Average multiple DAQ readings per point (see “Adding
         Averaging” above)</li>
         </ul>
         <h1 data-number="10" id="deliverables-and-assessment"><span
         class="header-section-number">10</span> Deliverables and
         Assessment</h1>
         <p>Your lab notebook should include the following for this
         week:</p>
         <h2 data-number="10.1" id="setup-validation"><span
         class="header-section-number">10.1</span> Setup Validation</h2>
         <ol type="1">
         <li><strong>Gain setting validation</strong>:
         <ul>
         <li>Completed dark/signal measurement table</li>
         <li>Calculated SNR compared to Week 2 prediction</li>
         <li>Decision on whether gain setting needed adjustment</li>
         </ul></li>
         <li><strong>Gain setting confirmation</strong>: your selected
         gain (_______ dB)</li>
         </ol>
         <h2 data-number="10.2" id="beam-profile-without-lenses"><span
         class="header-section-number">10.2</span> Beam Profile Without
         Lenses</h2>
         <ol type="1">
         <li><strong>Automated vs. manual comparison</strong>: beam size
         from both methods with uncertainties</li>
         <li><strong>Multiple position measurements</strong>: table of
         <span class="math inline">\(z\)</span> positions and
         corresponding <span class="math inline">\(w\)</span>
         values</li>
         <li><strong>Gaussian beam fit</strong>:
         <ul>
         <li>Plot of <span class="math inline">\(w(z)\)</span> data with
         fit curve</li>
         <li>Extracted <span class="math inline">\(w_0\)</span> and
         <span class="math inline">\(z_w\)</span> with
         uncertainties</li>
         <li>Comparison to theoretical prediction</li>
         </ul></li>
         </ol>
         <h2 data-number="10.3" id="lens-investigation"><span
         class="header-section-number">10.3</span> Lens
         Investigation</h2>
         <ol type="1">
         <li><strong>Experimental design</strong>: description of your
         measurement strategy</li>
         <li><strong>Data and analysis</strong>:
         <ul>
         <li>Beam profiles before and after lens</li>
         <li>New beam waist <span class="math inline">\(w_0\)</span> and
         position <span class="math inline">\(z_w\)</span></li>
         <li>Test of whether beam remains Gaussian</li>
         </ul></li>
         <li><strong>Thin lens equation test</strong>:
         <ul>
         <li>Measured vs. predicted image position with
         uncertainties</li>
         <li>Whether the modified thin-lens equation resolves any
         discrepancy</li>
         </ul></li>
         <li><strong>Peer comparison</strong> (if completed): other
         group’s results, whether results agreed, and key insight from
         discussion</li>
         </ol>
         <h2 data-number="10.4" id="key-results-summary"><span
         class="header-section-number">10.4</span> Key Results
         Summary</h2>
         <table>
         <thead>
         <tr class="header">
         <th>Measurement</th>
         <th>Value</th>
         <th>Uncertainty</th>
         <th>Notes</th>
         </tr>
         </thead>
         <tbody>
         <tr class="odd">
         <td><span class="math inline">\(w_0\)</span> (no lens)</td>
         <td>_______</td>
         <td>_______</td>
         <td>_______</td>
         </tr>
         <tr class="even">
         <td><span class="math inline">\(z_w\)</span> (no lens)</td>
         <td>_______</td>
         <td>_______</td>
         <td>_______</td>
         </tr>
         <tr class="odd">
         <td><span class="math inline">\(w_0\)</span> (with lens)</td>
         <td>_______</td>
         <td>_______</td>
         <td>_______</td>
         </tr>
         <tr class="even">
         <td><span class="math inline">\(z_w\)</span> (with lens)</td>
         <td>_______</td>
         <td>_______</td>
         <td>_______</td>
         </tr>
         </tbody>
         </table>
         <h2 data-number="10.5" id="reflection-questions"><span
         class="header-section-number">10.5</span> Reflection
         Questions</h2>
         <ol type="1">
         <li><p>Your measured beam waist occurs 5 cm from the position
         predicted by the thin lens equation. List three possible
         explanations (including the possibility that the thin lens
         equation itself is approximate for Gaussian beams) and describe
         measurements that would distinguish between them.</p></li>
         <li><p>You have 30 minutes remaining and want to improve your
         measurement of <span class="math inline">\(w_0\)</span>. You
         could either: (a) take more beam profiles at closely spaced
         <span class="math inline">\(z\)</span> positions, or (b) take
         fewer profiles but with more averaging per profile. Which would
         you choose to minimize uncertainty in <span
         class="math inline">\(w_0\)</span>? Justify your
         answer.</p></li>
         <li><p><strong>Predict-measure-compare reflection</strong>:
         Compare your Week 2 SNR predictions to your Week 4
         measurements. What did you learn from this process? What would
         you do differently if characterizing a new instrument in the
         future?</p></li>
         </ol>
               </div>
            <!-- Mathjax -->
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script>

      </script>
   </body>
</html>
